macos-x64:
    image: mac-x64
    cpus: 2
    memory: 8G
    steps:
    - name: Copy Files
      copy:
        from: ./
        to: vm:~/
        exclude:
            - .git
            - .github
            - docs

    - name: Run Subsequent Steps Offline
      offline: true

    - name: Configure CMake
      run: cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug -DSYNC_LIB_DOCTEST_ADD_CTESTS=OFF

    - name: Build CMake
      run: cmake --build build

    - name: Run CTest
      # run: ./build/test/SyncLibTests 
      run: ctest --test-dir build --output-on-failure